// ========== Language Translations ==========
const translations = {
    ar: {
        // Navigation
        nav_home: "الرئيسية",
        nav_about: "من نحن",
        nav_services: "خدماتنا",
        nav_portfolio: "أعمالنا",
        nav_contact: "تواصل معنا",
        nav_cta: "ابدأ مشروعك",
        
        // Hero Section
        hero_badge: "شركة تطوير برمجيات",
        hero_title_main: "ابنِ مستقبلك الرقمي",
        hero_title_highlight: "معنا",
        hero_description: "منصة رقمية متخصصة في تطوير مواقع الويب و تطبيقات الهاتف، نربطك بفريق من المطورين المحترفين لتحويل أفكارك إلى حلول رقمية حديثة وفعالة",
        hero_cta_primary: "ابدأ مشروعك الآن",
        hero_cta_secondary: "اكتشف المزيد",
        stat_projects: "مشروع منجز",
        stat_clients: "عميل راضٍ",
        stat_support: "دعم فني",
        
        // About Section
        about_title: "من نحن",
        about_subtitle: "نحن BinnaX - شريكك في التحول الرقمي",
        about_card1_title: "خبرة واسعة",
        about_card1_desc: "سنوات من الخبرة في تطوير الحلول الرقمية المتقدمة والمبتكرة",
        about_card2_title: "فريق محترف",
        about_card2_desc: "مطورون ومصممون محترفون متخصصون في أحدث التقنيات",
        about_card3_title: "دعم مستمر",
        about_card3_desc: "نوفر دعماً فنياً متواصلاً لضمان نجاح مشروعك",
        
        // Services Section
        services_title: "خدماتنا",
        services_subtitle: "حلول رقمية شاملة لتحقيق أهدافك",
        service1_title: "تطوير مواقع الويب",
        service1_desc: "نصمم وننفذ مواقع ويب احترافية، سريعة، وآمنة باستخدام أحدث التقنيات",
        service2_title: "تطبيقات الموبايل",
        service2_desc: "تطبيقات أصلية وهجينة لنظامي iOS و Android بواجهات سلسة وأداء عالي",
        service3_title: "حلول رقمية متكاملة",
        service3_desc: "من التخطيط إلى التنفيذ والصيانة، نقدم حلولاً شاملة لجميع احتياجاتك الرقمية",
        
        // Portfolio Section
        portfolio_title: "أعمالنا",
        portfolio_subtitle: "مشاريع ناجحة حققنا من خلالها رؤى عملائنا",
        portfolio_tag1: "موقع ويب",
        portfolio_tag2: "تطبيق موبايل",
        portfolio_tag3: "حل متكامل",
        portfolio1_title: "منصة تجارة إلكترونية",
        portfolio1_desc: "منصة تجارة إلكترونية متكاملة مع نظام إدارة متقدم ومدفوعات آمنة",
        portfolio2_title: "تطبيق توصيل",
        portfolio2_desc: "تطبيق توصيل ذكي بتتبع فوري وإدارة طلبات فعالة",
        portfolio3_title: "نظام إدارة علاقات العملاء",
        portfolio3_desc: "حل CRM متكامل لإدارة العملاء والمبيعات بكفاءة عالية",
        portfolio4_title: "موقع شركة",
        portfolio4_desc: "موقع شركة احترافي متعدد اللغات مع لوحة تحكم متقدمة",
        portfolio_cta_title: "لديك فكرة مشروع؟",
        portfolio_cta_button: "تواصل معنا الآن",
        
        // Contact Section
        contact_title: "تواصل معنا",
        contact_subtitle: "نحن هنا لمساعدتك في تحويل أفكارك إلى واقع رقمي",
        contact_phone_title: "رقم الهاتف",
        contact_email_title: "البريد الإلكتروني",
        contact_location_title: "الموقع",
        contact_location: "الجزائر",
        contact_follow: "تابعنا على",
        form_name: "الاسم الكامل",
        form_email: "البريد الإلكتروني",
        form_phone: "رقم الهاتف",
        form_service: "نوع الخدمة المطلوبة",
        form_service_select: "اختر الخدمة",
        form_service_web: "تطوير موقع ويب",
        form_service_mobile: "تطوير تطبيق موبايل",
        form_service_both: "موقع وتطبيق",
        form_service_consultation: "استشارة تقنية",
        form_service_other: "أخرى",
        form_message: "تفاصيل المشروع",
        form_submit: "إرسال الرسالة",
        form_sending: "جاري الإرسال...",
        form_success: "تم إرسال رسالتك بنجاح! سنتواصل معك قريباً.",
        form_error: "حدث خطأ أثناء إرسال الرسالة. يرجى المحاولة مرة أخرى.",
        
        // Footer
        footer_tagline: "ابنِ مستقبلك الرقمي",
        footer_description: "نحول أفكارك إلى حلول رقمية حديثة وفعالة",
        footer_links_title: "روابط سريعة",
        footer_services_title: "خدماتنا",
        footer_contact_title: "تواصل معنا",
        footer_copyright: "جميع الحقوق محفوظة.",
    },
    
    en: {
        // Navigation
        nav_home: "Home",
        nav_about: "About",
        nav_services: "Services",
        nav_portfolio: "Portfolio",
        nav_contact: "Contact",
        nav_cta: "Start Your Project",
        
        // Hero Section
        hero_badge: "Software Development Company",
        hero_title_main: "Build Your Digital Future",
        hero_title_highlight: "With Us",
        hero_description: "A digital platform specialized in web and mobile app development, connecting you with professional developers to transform your ideas into modern and effective digital solutions",
        hero_cta_primary: "Start Your Project Now",
        hero_cta_secondary: "Discover More",
        stat_projects: "Completed Projects",
        stat_clients: "Satisfied Clients",
        stat_support: "Technical Support",
        
        // About Section
        about_title: "About Us",
        about_subtitle: "We are BinnaX - Your Partner in Digital Transformation",
        about_card1_title: "Extensive Experience",
        about_card1_desc: "Years of experience in developing advanced and innovative digital solutions",
        about_card2_title: "Professional Team",
        about_card2_desc: "Professional developers and designers specialized in the latest technologies",
        about_card3_title: "Continuous Support",
        about_card3_desc: "We provide continuous technical support to ensure your project's success",
        
        // Services Section
        services_title: "Our Services",
        services_subtitle: "Comprehensive Digital Solutions to Achieve Your Goals",
        service1_title: "Web Development",
        service1_desc: "We design and implement professional, fast, and secure websites using the latest technologies",
        service2_title: "Mobile Applications",
        service2_desc: "Native and hybrid applications for iOS and Android with smooth interfaces and high performance",
        service3_title: "Integrated Digital Solutions",
        service3_desc: "From planning to implementation and maintenance, we provide comprehensive solutions for all your digital needs",
        
        // Portfolio Section
        portfolio_title: "Our Work",
        portfolio_subtitle: "Successful Projects Through Which We Achieved Our Clients' Visions",
        portfolio_tag1: "Website",
        portfolio_tag2: "Mobile App",
        portfolio_tag3: "Complete Solution",
        portfolio1_title: "E-commerce Platform",
        portfolio1_desc: "Comprehensive e-commerce platform with advanced management system and secure payments",
        portfolio2_title: "Delivery App",
        portfolio2_desc: "Smart delivery app with real-time tracking and efficient order management",
        portfolio3_title: "Customer Relationship Management System",
        portfolio3_desc: "Integrated CRM solution for managing customers and sales with high efficiency",
        portfolio4_title: "Corporate Website",
        portfolio4_desc: "Professional multilingual corporate website with advanced control panel",
        portfolio_cta_title: "Have a Project Idea?",
        portfolio_cta_button: "Contact Us Now",
        
        // Contact Section
        contact_title: "Contact Us",
        contact_subtitle: "We're here to help you turn your ideas into digital reality",
        contact_phone_title: "Phone Number",
        contact_email_title: "Email",
        contact_location_title: "Location",
        contact_location: "Algeria",
        contact_follow: "Follow Us",
        form_name: "Full Name",
        form_email: "Email",
        form_phone: "Phone Number",
        form_service: "Service Type Required",
        form_service_select: "Select Service",
        form_service_web: "Web Development",
        form_service_mobile: "Mobile App Development",
        form_service_both: "Website & App",
        form_service_consultation: "Technical Consultation",
        form_service_other: "Other",
        form_message: "Project Details",
        form_submit: "Send Message",
        form_sending: "Sending...",
        form_success: "Your message has been sent successfully! We will contact you soon.",
        form_error: "An error occurred while sending the message. Please try again.",
        
        // Footer
        footer_tagline: "Build Your Digital Future",
        footer_description: "We transform your ideas into modern and effective digital solutions",
        footer_links_title: "Quick Links",
        footer_services_title: "Our Services",
        footer_contact_title: "Contact Us",
        footer_copyright: "All rights reserved.",
    },
    
    fr: {
        // Navigation
        nav_home: "Accueil",
        nav_about: "À Propos",
        nav_services: "Services",
        nav_portfolio: "Portfolio",
        nav_contact: "Contact",
        nav_cta: "Démarrer Votre Projet",
        
        // Hero Section
        hero_badge: "Entreprise de Développement Logiciel",
        hero_title_main: "Construisez Votre Avenir Numérique",
        hero_title_highlight: "Avec Nous",
        hero_description: "Une plateforme numérique spécialisée dans le développement web et d'applications mobiles, vous connectant avec des développeurs professionnels pour transformer vos idées en solutions numériques modernes et efficaces",
        hero_cta_primary: "Démarrer Votre Projet",
        hero_cta_secondary: "Découvrir Plus",
        stat_projects: "Projets Réalisés",
        stat_clients: "Clients Satisfaits",
        stat_support: "Support Technique",
        
        // About Section
        about_title: "À Propos",
        about_subtitle: "Nous sommes BinnaX - Votre Partenaire dans la Transformation Numérique",
        about_card1_title: "Vaste Expérience",
        about_card1_desc: "Des années d'expérience dans le développement de solutions numériques avancées et innovantes",
        about_card2_title: "Équipe Professionnelle",
        about_card2_desc: "Développeurs et designers professionnels spécialisés dans les dernières technologies",
        about_card3_title: "Support Continu",
        about_card3_desc: "Nous fournissons un support technique continu pour assurer le succès de votre projet",
        
        // Services Section
        services_title: "Nos Services",
        services_subtitle: "Solutions Numériques Complètes pour Atteindre Vos Objectifs",
        service1_title: "Développement Web",
        service1_desc: "Nous concevons et mettons en œuvre des sites web professionnels, rapides et sécurisés en utilisant les dernières technologies",
        service2_title: "Applications Mobiles",
        service2_desc: "Applications natives et hybrides pour iOS et Android avec des interfaces fluides et de hautes performances",
        service3_title: "Solutions Numériques Intégrées",
        service3_desc: "De la planification à la mise en œuvre et à la maintenance, nous fournissons des solutions complètes pour tous vos besoins numériques",
        
        // Portfolio Section
        portfolio_title: "Notre Travail",
        portfolio_subtitle: "Projets Réussis à Travers Lesquels Nous Avons Réalisé les Visions de Nos Clients",
        portfolio_tag1: "Site Web",
        portfolio_tag2: "App Mobile",
        portfolio_tag3: "Solution Complète",
        portfolio1_title: "Plateforme E-commerce",
        portfolio1_desc: "Plateforme e-commerce complète avec système de gestion avancé et paiements sécurisés",
        portfolio2_title: "Application de Livraison",
        portfolio2_desc: "Application de livraison intelligente avec suivi en temps réel et gestion efficace des commandes",
        portfolio3_title: "Système de Gestion de la Relation Client",
        portfolio3_desc: "Solution CRM intégrée pour gérer les clients et les ventes avec une grande efficacité",
        portfolio4_title: "Site Web d'Entreprise",
        portfolio4_desc: "Site web d'entreprise professionnel multilingue avec panneau de contrôle avancé",
        portfolio_cta_title: "Vous Avez une Idée de Projet?",
        portfolio_cta_button: "Contactez-Nous Maintenant",
        
        // Contact Section
        contact_title: "Contactez-Nous",
        contact_subtitle: "Nous sommes là pour vous aider à transformer vos idées en réalité numérique",
        contact_phone_title: "Numéro de Téléphone",
        contact_email_title: "Email",
        contact_location_title: "Emplacement",
        contact_location: "Algérie",
        contact_follow: "Suivez-Nous",
        form_name: "Nom Complet",
        form_email: "Email",
        form_phone: "Numéro de Téléphone",
        form_service: "Type de Service Requis",
        form_service_select: "Sélectionner le Service",
        form_service_web: "Développement Web",
        form_service_mobile: "Développement d'App Mobile",
        form_service_both: "Site Web & App",
        form_service_consultation: "Consultation Technique",
        form_service_other: "Autre",
        form_message: "Détails du Projet",
        form_submit: "Envoyer le Message",
        form_sending: "Envoi en cours...",
        form_success: "Votre message a été envoyé avec succès! Nous vous contacterons bientôt.",
        form_error: "Une erreur s'est produite lors de l'envoi du message. Veuillez réessayer.",
        
        // Footer
        footer_tagline: "Construisez Votre Avenir Numérique",
        footer_description: "Nous transformons vos idées en solutions numériques modernes et efficaces",
        footer_links_title: "Liens Rapides",
        footer_services_title: "Nos Services",
        footer_contact_title: "Contactez-Nous",
        footer_copyright: "Tous droits réservés.",
    }
};

// ========== Logic & UI ==========

document.addEventListener('DOMContentLoaded', () => {
    const langDropdown = document.getElementById('langDropdown');
    const langOptions = document.getElementById('langOptions');
    const currentFlag = document.getElementById('currentFlag');
    const currentLangText = document.getElementById('currentLangText');
    const langButtons = document.querySelectorAll('.lang-btn');

    let currentLang = localStorage.getItem('language') || 'ar';

    // 1. Function to switch language
    const setLanguage = (lang) => {
        localStorage.setItem('language', lang);
        
        // Update Document Direction & Language
        document.documentElement.lang = lang;
        document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
        document.body.classList.remove('rtl', 'ltr');
        document.body.classList.add(lang === 'ar' ? 'rtl' : 'ltr');

        // Update Translation Elements
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            const translation = translations[lang][key];
            if (translation) {
                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    el.placeholder = translation;
                } else {
                    el.textContent = translation;
                }
            }
        });

        // Update UI Dropdown Button
        const selectedBtn = document.querySelector(`.lang-btn[data-lang="${lang}"]`);
        if (selectedBtn) {
            currentFlag.textContent = selectedBtn.querySelector('.flag').textContent;
            currentLangText.textContent = selectedBtn.childNodes[selectedBtn.childNodes.length - 1].textContent.trim();
            
            // Highlight active in list
            langButtons.forEach(btn => btn.classList.remove('active'));
            selectedBtn.classList.add('active');
        }

        langOptions.classList.remove('show');
    };

    // 2. Event Listeners
    langDropdown.addEventListener('click', (e) => {
        e.stopPropagation();
        langOptions.classList.toggle('show');
    });

    document.addEventListener('click', () => langOptions.classList.remove('show'));

    langButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            const lang = btn.getAttribute('data-lang');
            setLanguage(lang);
        });
    });

    // 3. Initialize
    setLanguage(currentLang);
});